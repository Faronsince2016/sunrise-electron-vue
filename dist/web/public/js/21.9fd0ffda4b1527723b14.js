webpackJsonp([21],{"4ItC":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("woOf"),l=a.n(r),o=a("JA1M"),i=function(t){return o.a.get("/logs/quartzMgr/queryLogQuartz",{params:t})},s={props:{initData:{type:Object}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("flex-container",[a("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{"label-position":"right","label-width":"90px",disabled:""}},[a("el-row",{attrs:{span:12}},[a("el-col",[a("el-form-item",{attrs:{label:"任务名称 :",prop:"qtzName"}},[a("el-input",{attrs:{value:t.initData.qtzName}})],1)],1),t._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"任务组 :",prop:"qtzGroup"}},[a("el-input",{attrs:{value:t.initData.qtzGroup}})],1)],1),t._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"日志等级 :",prop:"logLeve"}},[a("dict-select",{attrs:{value:t.initData.logLeve,"dict-key":"LogLeve"}})],1)],1),t._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"服务器名称 :",prop:"svrName"}},[a("el-input",{attrs:{value:t.initData.svrName}})],1)],1),t._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"服务器地址 :",prop:"svrAddr"}},[a("el-input",{attrs:{value:t.initData.svrAddr}})],1)],1),t._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"开始时间 :",prop:"startTime"}},[a("el-input",{attrs:{value:t.$utils.toDateString(t.initData.startTime,"yyyy-MM-dd HH:mm:ss")}})],1)],1),t._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"耗时(ms) :",prop:"procTime"}},[a("el-input",{attrs:{value:t.initData.procTime}})],1)],1),t._v(" "),a("el-col",[a("el-form-item",{attrs:{label:"异常信息 :",prop:"execInfo"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},value:t.initData.execInfo}})],1)],1)],1)],1)],1)},staticRenderFns:[]},m={components:{QuartzLogEye:a("VU/8")(s,n,!1,null,null,null).exports},data:function(){return{showLogQuartzDia:!1,logQuartzForm:{qtzName:"",qtzGroup:"",logLeve:"",svrName:"",svrAddr:""},logquartz:{},startTime:[]}},methods:{loadLogQuartz:function(t){return i(t)},handleQueryLogQuartz:function(){var t=l()({},this.logQuartzForm);this.startTime&&2===this.startTime.length&&l()(t,{startTimeStart:this.startTime[0].getTime(),startTimeEnd:this.startTime[1].getTime()}),this.$refs.logQuartzTable.loadData(t)},handleEyeLogQuartz:function(t){this.logquartz=l()({},t),this.showLogQuartzDia=!0}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[a("flex-item",{attrs:{grow:1,width:"100%"}},[a("el-card",[a("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[a("flex-item",{attrs:{alignItems:"center"}},[a("i",{staticClass:"el-icon-watch margin-right-6 font-size-16"}),t._v("任务日志\n        ")]),t._v(" "),a("flex-item",{attrs:{alignItems:"center"}},[a("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:t.handleQueryLogQuartz}}),t._v(" "),a("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(e){t.$refs.logQuartzForm.resetFields(),t.startTime=[]}}})],1)],1),t._v(" "),a("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[a("flex-item",{staticClass:"margin-bottom-10"},[a("el-form",{ref:"logQuartzForm",staticClass:"form-style-line",attrs:{model:t.logQuartzForm,"label-position":"right","label-width":"90px"}},[a("el-row",[a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"任务名称 :",prop:"qtzName"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:t.logQuartzForm.qtzName,callback:function(e){t.$set(t.logQuartzForm,"qtzName",e)},expression:"logQuartzForm.qtzName"}})],1)],1),t._v(" "),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"任务组 :",prop:"qtzGroup"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:t.logQuartzForm.qtzGroup,callback:function(e){t.$set(t.logQuartzForm,"qtzGroup",e)},expression:"logQuartzForm.qtzGroup"}})],1)],1),t._v(" "),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"日志等级 :",prop:"logLeve"}},[a("dict-select",{attrs:{"dict-key":"LogLeve",placeholder:"请选择",clearable:""},model:{value:t.logQuartzForm.logLeve,callback:function(e){t.$set(t.logQuartzForm,"logLeve",e)},expression:"logQuartzForm.logLeve"}})],1)],1),t._v(" "),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"服务器名称 :",prop:"svrName"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:t.logQuartzForm.svrName,callback:function(e){t.$set(t.logQuartzForm,"svrName",e)},expression:"logQuartzForm.svrName"}})],1)],1),t._v(" "),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"服务器地址 :",prop:"svrAddr"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:t.logQuartzForm.svrAddr,callback:function(e){t.$set(t.logQuartzForm,"svrAddr",e)},expression:"logQuartzForm.svrAddr"}})],1)],1),t._v(" "),a("col-pr",{attrs:{xs:24,sm:24,md:12,lg:12,xl:6}},[a("el-form-item",{attrs:{label:"开始时间 :",prop:"startTime"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1)],1)],1)],1)],1),t._v(" "),a("flex-item",[a("data-table",{ref:"logQuartzTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":t.loadLogQuartz}},[a("data-table-column",{attrs:{prop:"qtzName",label:"任务名称","show-overflow-tooltip":""}}),t._v(" "),a("data-table-column",{attrs:{prop:"qtzGroup",label:"任务组","show-overflow-tooltip":""}}),t._v(" "),a("data-table-column",{attrs:{prop:"logLeve",label:"日志等级",width:"80",formatter:function(e){return t.$utils.tableColDictFormt("LogLeve",e.logLeve)}}}),t._v(" "),a("data-table-column",{attrs:{prop:"svrName",label:"服务器名称","show-overflow-tooltip":""}}),t._v(" "),a("data-table-column",{attrs:{prop:"svrAddr",label:"服务器地址",width:"120"}}),t._v(" "),a("data-table-column",{attrs:{prop:"startTime",label:"开始时间",width:"140",formatter:t.$utils.tableColTimeFormt}}),t._v(" "),a("data-table-column",{attrs:{prop:"procTime",label:"耗时(ms)",width:"75"}}),t._v(" "),a("data-table-column",{attrs:{prop:"execInfo",label:"异常信息","show-overflow-tooltip":""}}),t._v(" "),a("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-more",title:"查看"},on:{click:function(a){t.handleEyeLogQuartz(e.row)}}})]}}])})],1)],1)],1)],1)],1),t._v(" "),a("dialog-drag",{attrs:{title:"任务编辑",visible:t.showLogQuartzDia},on:{"update:visible":function(e){t.showLogQuartzDia=e}}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-edit margin-right-4"}),t._v("任务日志详情\n    ")]),t._v(" "),a("quartz-log-eye",{attrs:{initData:t.logquartz},on:{close:function(e){t.showLogQuartzDia=!1}}})],1)],1)},staticRenderFns:[]},c=a("VU/8")(m,u,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=21.9fd0ffda4b1527723b14.js.map
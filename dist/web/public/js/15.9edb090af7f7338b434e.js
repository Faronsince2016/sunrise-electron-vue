webpackJsonp([15],{"1Bn7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),l=r.n(a),o=r("exGp"),n=r.n(o),i=r("woOf"),s=r.n(i),m=r("IJfQ"),p={props:{initData:{type:Object}},data:function(){return{formData:s()({},this.initData),formRules:{permType:[{required:!0,message:"请选择资源类型 !",trigger:"change"}],permTable:[{required:!0,message:"请输入隶属表 !",trigger:"change"}],permStat:[{required:!0,message:"请选择权限状态 !",trigger:"change"}]}}},methods:{handleUpdateData:function(){var e=this;return n()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.editForm.validate();case 3:e.$emit("updataData",e.formData),e.$emit("close"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,e,[[0,7]])}))()}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",[r("el-form",{ref:"editForm",staticClass:"form-style-line",attrs:{model:e.formData,rules:e.formRules,"label-position":"right","label-width":"90px"}},[r("el-row",[r("el-col",[r("el-form-item",{attrs:{label:"资源隶属 :",prop:"permTable"}},[r("el-input",{attrs:{maxlength:"10","show-word-limit":""},model:{value:e.formData.permTable,callback:function(t){e.$set(e.formData,"permTable",t)},expression:"formData.permTable"}})],1)],1),e._v(" "),r("el-col",[r("el-form-item",{attrs:{label:"资源类型 :",prop:"permType"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.formData.permType,callback:function(t){e.$set(e.formData,"permType",t)},expression:"formData.permType"}},[r("el-option",{attrs:{label:"菜单",value:"1"}})],1)],1)],1),e._v(" "),r("el-col",[r("el-form-item",{attrs:{label:"权限状态 :",prop:"permStat"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.formData.permStat,callback:function(t){e.$set(e.formData,"permStat",t)},expression:"formData.permStat"}},[r("el-option",{attrs:{label:"正常",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"禁用",value:"2"}})],1)],1)],1),e._v(" "),r("el-col",[r("el-form-item",{attrs:{label:"权限描述 :",prop:"permDesc"}},[r("el-input",{attrs:{type:"textarea",maxlength:"512","show-word-limit":""},model:{value:e.formData.permDesc,callback:function(t){e.$set(e.formData,"permDesc",t)},expression:"formData.permDesc"}})],1)],1),e._v(" "),e.formData.createdUser?[r("el-col",[r("el-form-item",{attrs:{label:"创建用户 :",prop:"createdUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.createdUser,callback:function(t){e.$set(e.formData,"createdUser",t)},expression:"formData.createdUser"}})],1)],1),e._v(" "),r("el-col",[r("el-form-item",{attrs:{label:"创建时间 :",prop:"createdTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.createdTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1),e._v(" "),r("el-col",[r("el-form-item",{attrs:{label:"更新用户 :",prop:"updatedUser"}},[r("el-input",{attrs:{disabled:""},model:{value:e.formData.updatedUser,callback:function(t){e.$set(e.formData,"updatedUser",t)},expression:"formData.updatedUser"}})],1)],1),e._v(" "),r("el-col",[r("el-form-item",{attrs:{label:"更新时间 :",prop:"updatedTime"}},[r("el-input",{attrs:{value:e.$utils.toDateString(e.formData.updatedTime,"yyyy-MM-dd HH:mm:ss"),disabled:""}})],1)],1)]:e._e()],2)],1),e._v(" "),r("flex-container",{staticClass:"footer",attrs:{justifyContent:"flex-end"}},[r("el-button",{on:{click:function(t){e.$emit("close")}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleUpdateData}},[e._v("确 定")])],1)],1)},staticRenderFns:[]},u={uuid:null,permType:"",permTable:"",permStat:"",permDesc:"",createdUser:"",createdTime:"",updatedUser:"",updatedTime:""},d={components:{PermMgrEdit:r("VU/8")(p,c,!1,null,null,null).exports},data:function(){return{showPermDia:!1,permForm:{permType:"",permTable:"",permStat:""},pageOptions:{pagerCount:5},editPerm:{}}},methods:{loadPerm:function(e){return m.a.querySysPerm(e)},handleQueryPerm:function(){this.$refs.permTable.loadData(this.permForm)},handleEditPerm:function(e){this.editPerm=s()({},e),this.showPermDia=!0},handleAddPerm:function(){this.editPerm=s()({},u),this.showPermDia=!0},handleDelPerm:function(e){var t=this;return n()(l.a.mark(function r(){return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.a.delSysPerm([e.uuid]);case 3:return r.prev=3,t.handleQueryPerm(),r.finish(3);case 6:case"end":return r.stop()}},r,t,[[0,,3,6]])}))()},doUpdataPerm:function(e){var t=this;return n()(l.a.mark(function r(){return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.a.saveSysPerm(e);case 3:return r.prev=3,t.handleQueryPerm(),r.finish(3);case 6:case"end":return r.stop()}},r,t,[[0,,3,6]])}))()}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("flex-container",{attrs:{wrap:"nowrap",justifyContent:"space-between"}},[r("flex-item",{attrs:{grow:1,width:"100%"}},[r("el-card",[r("flex-container",{attrs:{slot:"header",justifyContent:"space-between"},slot:"header"},[r("flex-item",{attrs:{alignItems:"center"}},[r("i",{staticClass:"icon-fa fa-shield margin-right-6 font-size-16"}),e._v("权限管理\n        ")]),e._v(" "),r("flex-item",{attrs:{alignItems:"center"}},[r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-plus",title:"添加"},on:{click:e.handleAddPerm}}),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",circle:"",icon:"el-icon-search",title:"查询"},on:{click:e.handleQueryPerm}}),e._v(" "),r("el-button",{attrs:{size:"mini",circle:"",plain:"",icon:"el-icon-refresh-left",title:"重置"},on:{click:function(t){e.$refs.permForm.resetFields()}}})],1)],1),e._v(" "),r("flex-container",{attrs:{direction:"column",wrap:"nowrap"}},[r("flex-item",{staticClass:"margin-bottom-10"},[r("el-form",{ref:"permForm",staticClass:"form-style-line",attrs:{model:e.permForm,"label-position":"right","label-width":"90px"}},[r("el-row",[r("col-pr",[r("el-form-item",{attrs:{label:"资源类型 :",prop:"permType"}},[r("dict-select",{attrs:{"dict-key":"PermType",placeholder:"请选择",clearable:""},model:{value:e.permForm.permType,callback:function(t){e.$set(e.permForm,"permType",t)},expression:"permForm.permType"}})],1)],1),e._v(" "),r("col-pr",[r("el-form-item",{attrs:{label:"隶属表 :",prop:"permTable"}},[r("el-input",{attrs:{maxlength:"50","show-word-limit":""},model:{value:e.permForm.permTable,callback:function(t){e.$set(e.permForm,"permTable",t)},expression:"permForm.permTable"}})],1)],1),e._v(" "),r("col-pr",[r("el-form-item",{attrs:{label:"权限状态 :",prop:"permStat"}},[r("dict-select",{attrs:{"dict-key":"PermStat",placeholder:"请选择",clearable:""},model:{value:e.permForm.permStat,callback:function(t){e.$set(e.permForm,"permStat",t)},expression:"permForm.permStat"}})],1)],1)],1)],1)],1),e._v(" "),r("flex-item",[r("data-table",{ref:"permTable",attrs:{border:"",index:"","auto-load":"","highlight-current-row":"","auto-update":"","column-button":"","csv-button":"",title:"Data Table","load-data-func":e.loadPerm,pageOptions:e.pageOptions}},[r("data-table-column",{attrs:{prop:"permType",label:"资源类型","show-overflow-tooltip":"",formatter:function(t){return e.$utils.tableColDictFormt("PermType",t.permType)}}}),e._v(" "),r("data-table-column",{attrs:{prop:"permTable",label:"隶属表","show-overflow-tooltip":""}}),e._v(" "),r("data-table-column",{attrs:{prop:"permStat",label:"状态","show-overflow-tooltip":"",formatter:function(t){return e.$utils.tableColDictFormt("PermStat",t.permStat)}}}),e._v(" "),r("data-table-column",{attrs:{prop:"permDesc",label:"描述","show-overflow-tooltip":""}}),e._v(" "),r("data-table-column",{attrs:{prop:"op",label:"操作",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(r){e.handleEditPerm(t.row)}}}),e._v(" "),r("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(r){e.handleDelPerm(t.row)}}})]}}])})],1)],1)],1)],1)],1),e._v(" "),r("dialog-drag",{attrs:{title:"权限编辑",visible:e.showPermDia},on:{"update:visible":function(t){e.showPermDia=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-edit margin-right-4"}),e._v("权限编辑\n    ")]),e._v(" "),r("perm-mgr-edit",{attrs:{initData:e.editPerm},on:{updataData:e.doUpdataPerm,close:function(t){e.showPermDia=!1}}})],1)],1)},staticRenderFns:[]},b=r("VU/8")(d,f,!1,null,null,null);t.default=b.exports},IJfQ:function(e,t,r){"use strict";var a=r("JA1M");t.a={saveSysPerm:function(e){return a.a.post("/usrm/permMgr/saveSysPerm",e)},querySysPerm:function(e){return a.a.get("/usrm/permMgr/querySysPerm",{params:e})},delSysPerm:function(e){return a.a.delete("/usrm/permMgr/delSysPerm/"+e)},getPermMap:function(){return a.a.get("/usrm/permMgr/getPermMap")}}}});
//# sourceMappingURL=15.9edb090af7f7338b434e.js.map
{"version":3,"sources":["webpack:///./src/renderer/api/usrm/sysPermMgrApi.js","webpack:///./src/renderer/api/usrm/sysRoleMgrApi.js","webpack:///src/renderer/views/module/usrm/Role_menu.vue","webpack:///./src/renderer/views/module/usrm/Role_menu.vue?af3a","webpack:///src/renderer/views/module/usrm/Role_edit.vue","webpack:///./src/renderer/views/module/usrm/Role_menu.vue","webpack:///./src/renderer/views/module/usrm/Role_edit.vue?362d","webpack:///src/renderer/views/module/usrm/RoleMgr.vue","webpack:///./src/renderer/views/module/usrm/Role_edit.vue","webpack:///./src/renderer/views/module/usrm/RoleMgr.vue?9307","webpack:///./src/renderer/views/module/usrm/RoleMgr.vue"],"names":["__webpack_exports__","saveSysPerm","data","ajax","post","querySysPerm","params","get","delSysPerm","param","delete","getPermMap","saveSysRole","querySysRole","delSysRole","getSelectPerm","getRoleByOrgUuid","Role_menu","props","type","Array","default","value","checkedKeys","filterText","isTreeExpand","menuTreeProps","children","label","key","disabled","menuVisible","watch","handler","val","this","$emit","immediate","$refs","filter","methods","handleExpandSwitch","$utils","treeExpandSwitch","doCheckChange","getCheckedKeys","doFilterNode","isMenuName","menuName","includes","isMenuUrl","menuUrl","doRenderTreeContent","h","_ref","node","store","attrs","wrap","alignItems","justifyContent","class","menuIcon","content","placement","effect","menuOpenWay","usrm_Role_menu","render","_vm","_h","$createElement","_c","_self","direction","grow","staticClass","placeholder","maxlength","show-word-limit","model","callback","$$v","expression","_v","size","plain","icon","title","on","click","ref","show-checkbox","default-checked-keys","node-key","default-expand-all","draggable","render-content","filter-node-method","check-change","staticRenderFns","Role_edit","components","RoleMenu","__webpack_require__","normalizeComponent","initData","Object","inject","loading","selectedMenu","formData","assign_default","formRules","roleName","required","message","trigger","roleCode","orgUuid","mounted","uuid","initPermSelect","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","resp","_context","prev","next","sysRoleMgrApi","roleUuid","sent","keys_default","forEach","permType","t0","finish","stop","handleUpdateData","_this2","_callee2","_context2","validate","permUuids","1","usrm_Role_edit","directives","name","rawName","rules","label-position","label-width","prop","$set","options","orgTree","orgTreeProps","clearable","toDateString","createdTime","updatedTime","_e","width","_l","item","$event","DefaultRole","roleDesc","createdUser","updatedUser","RoleMgr","RoleMgrEdit","Role_edit_normalizeComponent","provide","permMap","checkStrictly","emitPath","orgViewProps","showRoleDia","roleForm","pageOptions","pagerCount","editRole","initOrgTree","initPermMap","sysPermMgrApi","clear","toArrayTree","parentKey","sortKey","push","sysOrgMgrApi","getOrgTree","eachTree","length","element","loadRole","handleQueryRole","loadData","handleEditRole","row","handleAddRole","handleDelRole","_this3","_callee3","_context3","doUpdataRole","_this4","_callee4","_context4","usrm_RoleMgr","slot","circle","resetFields","border","index","auto-load","highlight-current-row","auto-update","column-button","csv-button","load-data-func","show-overflow-tooltip","scopedSlots","_u","fn","scope","align","visible","top","update:visible","updataData","close","RoleMgr_Component","RoleMgr_normalizeComponent"],"mappings":"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","file":"public/js/9.c1725c36e540f8641f8e.js","sourcesContent":["/**\r\n * @Author: Sun Rising\r\n * @Date: 2018-12-17 16:10:36\r\n * @Last Modified by: Sun Rising\r\n * @Last Modified time: 2019-07-02 17:42:28\r\n * @Description: 系统权限管理对外接口\r\n */\r\nimport ajax from \"@/lib/ajax\";\r\n\r\nexport default {\r\n  //保存系统权限\r\n  saveSysPerm(data) {\r\n    return ajax.post(\"/usrm/permMgr/saveSysPerm\", data);\r\n  },\r\n  //获取系统权限\r\n  querySysPerm(params) {\r\n    return ajax.get(\"/usrm/permMgr/querySysPerm\", { params: params });\r\n  },\r\n  //删除系统权限\r\n  delSysPerm(param) {\r\n    return ajax.delete(\"/usrm/permMgr/delSysPerm/\" + param);\r\n  },\r\n  //获取权限类别Map\r\n  getPermMap() {\r\n    return ajax.get(\"/usrm/permMgr/getPermMap\");\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer/api/usrm/sysPermMgrApi.js","/**\r\n * @Author: Sun Rising\r\n * @Date: 2018-12-17 16:10:36\r\n * @Last Modified by: Sun Rising\r\n * @Last Modified time: 2019-07-02 17:39:48\r\n * @Description: 系统角色管理对外接口\r\n */\r\nimport ajax from \"@/lib/ajax\";\r\n\r\nexport default {\r\n  //保存系统角色\r\n  saveSysRole(data) {\r\n    return ajax.post(\"/usrm/roleMgr/saveSysRole\", data);\r\n  },\r\n  //获取系统角色\r\n  querySysRole(params) {\r\n    return ajax.get(\"/usrm/roleMgr/querySysRole\", { params: params });\r\n  },\r\n  //删除系统角色\r\n  delSysRole(param) {\r\n    return ajax.delete(\"/usrm/roleMgr/delSysRole/\" + param);\r\n  },\r\n  //获取已选择的资源\r\n  getSelectPerm(params) {\r\n    return ajax.get(\"/usrm/roleMgr/getSelectPerm\", { params: params });\r\n  },\r\n  //通过组织机构UUID获取角色\r\n  getRoleByOrgUuid(params) {\r\n    return ajax.get(\"/usrm/roleMgr/getRoleByOrgUuid\", { params: params });\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer/api/usrm/sysRoleMgrApi.js","/**\n * @Author: Sun Rising \n * @Date: 2019-06-13 10:57:44 \n * @Last Modified by: Sun Rising\n * @Last Modified time: 2019-07-10 18:50:40\n * @Description: 角色-菜单关联\n */\n<template>\n  <flex-container direction=\"column\" wrap='nowrap'>\n\n    <flex-container>\n      <flex-item :grow='1'>\n        <el-form class=\"form-style-line\">\n          <el-form-item>\n            <el-input placeholder=\"输入菜单名称或路径进行过滤\" v-model=\"filterText\" maxlength=\"10\" show-word-limit></el-input>\n          </el-form-item>\n        </el-form>\n      </flex-item>\n      <flex-item alignItems='center'>\n        <el-button type=\"pinforimary\" size=\"mini\" plain @click=\"handleExpandSwitch\" :icon=\"isTreeExpand?'icon-ali ali-tuceng':'icon-ali ali-tuceng1'\" :title=\"isTreeExpand?'全部折叠':'全部展开'\"></el-button>\n      </flex-item>\n    </flex-container>\n\n    <flex-item>\n      <el-tree ref=\"menuTree\" show-checkbox :data=\"data\" :default-checked-keys='checkedKeys' @check-change='doCheckChange' :node-key=\"menuTreeProps.key\" :props=\"menuTreeProps\" default-expand-all draggable :render-content=\"doRenderTreeContent\" :filter-node-method=\"doFilterNode\"></el-tree>\n    </flex-item>\n\n  </flex-container>\n</template>\n\n<script>\nexport default {\n  props: {\n    data: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    value: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    checkedKeys: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {\n      filterText: \"\",\n      //树展开\n      isTreeExpand: true,\n      //菜单树配置\n      menuTreeProps: {\n        children: \"children\",\n        label: \"menuName\",\n        key: \"uuid\",\n        disabled: data => {\n          return data.menuVisible !== \"1\";\n        }\n      }\n    };\n  },\n  watch: {\n    checkedKeys: {\n      handler: function(val) {\n        this.$emit(\"input\", val);\n      },\n      immediate: true\n    },\n    filterText(val) {\n      this.$refs[\"menuTree\"].filter(val);\n    }\n  },\n  methods: {\n    //切换树展开\n    handleExpandSwitch() {\n      this.isTreeExpand = !this.isTreeExpand;\n      this.$utils.treeExpandSwitch(this.$refs[\"menuTree\"], this.isTreeExpand);\n    },\n    //选择的菜单发生改变\n    doCheckChange() {\n      this.$emit(\"input\", this.$refs[\"menuTree\"].getCheckedKeys());\n    },\n    //树节点过滤\n    doFilterNode(value, data) {\n      let isMenuName = data.menuName.includes(value);\n      let isMenuUrl = data.menuUrl.includes(value);\n      return isMenuName || isMenuUrl;\n    },\n    //渲染树\n    doRenderTreeContent(h, { node, data, store }) {\n      //----------------- 图标区 开始 ------------------------------------\n      let _menuIcon =\n        data.menuIcon +\n        (data.menuVisible == 1 ? \" icon-color-success\" : \" icon-color-info\");\n      //----------------- 图标区 结束 ------------------------------------\n      return (\n        <flex-container\n          wrap=\"nowrap\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n        >\n          <flex-item alignItems=\"center\">\n            <span class=\"margin-right-2\">\n              <i class={_menuIcon} />\n            </span>\n            <el-tooltip\n              content={data.menuUrl}\n              placement=\"right\"\n              effect={data.menuOpenWay == 1 ? \"dark\" : \"light\"}\n            >\n              <span class=\"icon-size-14\">{node.label}</span>\n            </el-tooltip>\n          </flex-item>\n        </flex-container>\n      );\n    }\n  }\n};\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/renderer/views/module/usrm/Role_menu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('flex-container',{attrs:{\"direction\":\"column\",\"wrap\":\"nowrap\"}},[_c('flex-container',[_c('flex-item',{attrs:{\"grow\":1}},[_c('el-form',{staticClass:\"form-style-line\"},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"输入菜单名称或路径进行过滤\",\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}})],1)],1)],1),_vm._v(\" \"),_c('flex-item',{attrs:{\"alignItems\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"pinforimary\",\"size\":\"mini\",\"plain\":\"\",\"icon\":_vm.isTreeExpand?'icon-ali ali-tuceng':'icon-ali ali-tuceng1',\"title\":_vm.isTreeExpand?'全部折叠':'全部展开'},on:{\"click\":_vm.handleExpandSwitch}})],1)],1),_vm._v(\" \"),_c('flex-item',[_c('el-tree',{ref:\"menuTree\",attrs:{\"show-checkbox\":\"\",\"data\":_vm.data,\"default-checked-keys\":_vm.checkedKeys,\"node-key\":_vm.menuTreeProps.key,\"props\":_vm.menuTreeProps,\"default-expand-all\":\"\",\"draggable\":\"\",\"render-content\":_vm.doRenderTreeContent,\"filter-node-method\":_vm.doFilterNode},on:{\"check-change\":_vm.doCheckChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-37b497e6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/renderer/views/module/usrm/Role_menu.vue\n// module id = null\n// module chunks = ","/**\n * @Author: Sun Rising \n * @Date: 2019-06-13 10:57:44 \n * @Last Modified by: Sun Rising\n * @Last Modified time: 2019-07-10 18:51:01\n * @Description: 权限编辑\n */\n<template>\n  <flex-container v-loading='loading'>\n\n    <el-form ref=\"editForm\" :model=\"formData\" :rules=\"formRules\" label-position=\"right\" label-width=\"90px\" class=\"form-style-line\">\n      <el-row>\n        <el-col>\n          <el-form-item label=\"角色名称 :\" prop=\"roleName\">\n            <el-input v-model=\"formData.roleName\" maxlength=\"10\" show-word-limit></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col>\n          <el-form-item label=\"角色编码 :\" prop=\"roleCode\">\n            <el-input v-model=\"formData.roleCode\" maxlength=\"10\" show-word-limit></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col>\n          <el-form-item label=\"隶属组织 :\" prop=\"orgUuid\">\n            <el-cascader :options=\"orgTree\" v-model=\"formData.orgUuid\" :props=\"orgTreeProps\" clearable></el-cascader>\n          </el-form-item>\n        </el-col>\n        <el-col>\n          <el-form-item label=\"角色描述 :\" prop=\"roleDesc\">\n            <el-input type=\"textarea\" v-model=\"formData.roleDesc\" maxlength=\"512\" show-word-limit></el-input>\n          </el-form-item>\n        </el-col>\n        <template v-if=\"formData.createdUser\">\n          <el-col>\n            <el-form-item label=\"创建用户 :\" prop=\"createdUser\">\n              <el-input v-model=\"formData.createdUser\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col>\n            <el-form-item label=\"创建时间 :\" prop=\"createdTime\">\n              <el-input :value=\"$utils.toDateString(formData.createdTime,'yyyy-MM-dd HH:mm:ss')\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col>\n            <el-form-item label=\"更新用户 :\" prop=\"updatedUser\">\n              <el-input v-model=\"formData.updatedUser\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col>\n            <el-form-item label=\"更新时间 :\" prop=\"updatedTime\">\n              <el-input :value=\"$utils.toDateString(formData.updatedTime,'yyyy-MM-dd HH:mm:ss')\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n        </template>\n      </el-row>\n    </el-form>\n    <flex-container class=\"padding-10\">\n      <flex-item width=\"100%\">\n        <el-tabs>\n          <el-tab-pane v-for=\"item in permMap\" :key=\"item.key\" :label=\"item.label\">\n            <role-menu v-if=\"item.key==='1'\" :data='item.data' :checkedKeys='checkedKeys' v-model=\"selectedMenu\"></role-menu>\n          </el-tab-pane>\n        </el-tabs>\n      </flex-item>\n    </flex-container>\n\n    <flex-container class=\"footer\" justifyContent='flex-end'>\n      <el-button @click=\"$emit('close')\">取 消</el-button>\n      <el-button @click=\"handleUpdateData\" type=\"primary\">确 定</el-button>\n    </flex-container>\n\n  </flex-container>\n</template>\n\n<script>\nimport SysRoleMgrApi from \"@/api/usrm/sysRoleMgrApi.js\";\nimport RoleMenu from \"./Role_menu\";\n\nexport default {\n  components: { RoleMenu },\n  props: {\n    initData: {\n      type: Object\n    }\n  },\n  inject: [\"orgTree\", \"orgTreeProps\", \"permMap\"],\n  data() {\n    return {\n      loading: false,\n      //选择的菜单\n      selectedMenu: [],\n      //默认选择的菜单keys\n      checkedKeys: [],\n      formData: Object.assign({}, this.initData),\n      formRules: {\n        roleName: [\n          { required: true, message: \"请输入角色名称 !\", trigger: \"change\" }\n        ],\n        roleCode: [\n          { required: true, message: \"请输入角色编码 !\", trigger: \"change\" }\n        ],\n        orgUuid: [\n          { required: true, message: \"请选择隶属组织 !\", trigger: \"change\" }\n        ]\n      }\n    };\n  },\n  mounted() {\n    if (this.initData.uuid) this.initPermSelect(this.initData.uuid);\n  },\n  methods: {\n    //初始化权限选择\n    async initPermSelect(uuid) {\n      try {\n        this.loading = true;\n        let resp = await SysRoleMgrApi.getSelectPerm({ roleUuid: uuid });\n        Object.keys(resp.data).forEach(permType => {\n          if (permType === \"1\") this.checkedKeys = resp.data[permType];\n        });\n      } catch (error) {\n      } finally {\n        this.loading = false;\n      }\n    },\n    //确认修改\n    async handleUpdateData() {\n      try {\n        await this.$refs[\"editForm\"].validate();\n        this.formData.permUuids = {\n          //装配菜单资源\n          \"1\": this.selectedMenu\n        };\n        this.$emit(\"updataData\", this.formData);\n        this.$emit(\"close\");\n      } catch (error) {}\n    }\n  }\n};\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/renderer/views/module/usrm/Role_edit.vue","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Role_menu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Role_menu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37b497e6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Role_menu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/renderer/views/module/usrm/Role_menu.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('flex-container',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-form',{ref:\"editForm\",staticClass:\"form-style-line\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules,\"label-position\":\"right\",\"label-width\":\"90px\"}},[_c('el-row',[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"角色名称 :\",\"prop\":\"roleName\"}},[_c('el-input',{attrs:{\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.formData.roleName),callback:function ($$v) {_vm.$set(_vm.formData, \"roleName\", $$v)},expression:\"formData.roleName\"}})],1)],1),_vm._v(\" \"),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"角色编码 :\",\"prop\":\"roleCode\"}},[_c('el-input',{attrs:{\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.formData.roleCode),callback:function ($$v) {_vm.$set(_vm.formData, \"roleCode\", $$v)},expression:\"formData.roleCode\"}})],1)],1),_vm._v(\" \"),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"隶属组织 :\",\"prop\":\"orgUuid\"}},[_c('el-cascader',{attrs:{\"options\":_vm.orgTree,\"props\":_vm.orgTreeProps,\"clearable\":\"\"},model:{value:(_vm.formData.orgUuid),callback:function ($$v) {_vm.$set(_vm.formData, \"orgUuid\", $$v)},expression:\"formData.orgUuid\"}})],1)],1),_vm._v(\" \"),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"角色描述 :\",\"prop\":\"roleDesc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"maxlength\":\"512\",\"show-word-limit\":\"\"},model:{value:(_vm.formData.roleDesc),callback:function ($$v) {_vm.$set(_vm.formData, \"roleDesc\", $$v)},expression:\"formData.roleDesc\"}})],1)],1),_vm._v(\" \"),(_vm.formData.createdUser)?[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"创建用户 :\",\"prop\":\"createdUser\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.formData.createdUser),callback:function ($$v) {_vm.$set(_vm.formData, \"createdUser\", $$v)},expression:\"formData.createdUser\"}})],1)],1),_vm._v(\" \"),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"创建时间 :\",\"prop\":\"createdTime\"}},[_c('el-input',{attrs:{\"value\":_vm.$utils.toDateString(_vm.formData.createdTime,'yyyy-MM-dd HH:mm:ss'),\"disabled\":\"\"}})],1)],1),_vm._v(\" \"),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"更新用户 :\",\"prop\":\"updatedUser\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.formData.updatedUser),callback:function ($$v) {_vm.$set(_vm.formData, \"updatedUser\", $$v)},expression:\"formData.updatedUser\"}})],1)],1),_vm._v(\" \"),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"更新时间 :\",\"prop\":\"updatedTime\"}},[_c('el-input',{attrs:{\"value\":_vm.$utils.toDateString(_vm.formData.updatedTime,'yyyy-MM-dd HH:mm:ss'),\"disabled\":\"\"}})],1)],1)]:_vm._e()],2)],1),_vm._v(\" \"),_c('flex-container',{staticClass:\"padding-10\"},[_c('flex-item',{attrs:{\"width\":\"100%\"}},[_c('el-tabs',_vm._l((_vm.permMap),function(item){return _c('el-tab-pane',{key:item.key,attrs:{\"label\":item.label}},[(item.key==='1')?_c('role-menu',{attrs:{\"data\":item.data,\"checkedKeys\":_vm.checkedKeys},model:{value:(_vm.selectedMenu),callback:function ($$v) {_vm.selectedMenu=$$v},expression:\"selectedMenu\"}}):_vm._e()],1)}))],1)],1),_vm._v(\" \"),_c('flex-container',{staticClass:\"footer\",attrs:{\"justifyContent\":\"flex-end\"}},[_c('el-button',{on:{\"click\":function($event){_vm.$emit('close')}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleUpdateData}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-056a7131\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/renderer/views/module/usrm/Role_edit.vue\n// module id = null\n// module chunks = ","/**\n * @Author: Sun Rising \n * @Date: 2019-06-12 15:25:40 \n * @Last Modified by: Sun Rising\n * @Last Modified time: 2019-07-10 13:17:53\n * @Description: 角色管理\n */\n<template>\n  <flex-container wrap='nowrap' justifyContent='space-between'>\n\n    <flex-item :grow='1' width='100%'>\n      <el-card>\n        <flex-container slot=\"header\" justifyContent='space-between'>\n          <flex-item alignItems='center'>\n            <i class=\"el-icon-user margin-right-6 font-size-16\"></i>角色管理\n          </flex-item>\n          <flex-item alignItems='center'>\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleAddRole\" circle icon=\"el-icon-plus\" title=\"添加\"></el-button>\n            <el-button type=\"primary\" @click=\"handleQueryRole\" size=\"mini\" circle icon=\"el-icon-search\" title=\"查询\"></el-button>\n            <el-button size=\"mini\" @click=\"$refs['roleForm'].resetFields()\" circle plain icon=\"el-icon-refresh-left\" title=\"重置\"></el-button>\n          </flex-item>\n        </flex-container>\n        <flex-container direction=\"column\" wrap='nowrap'>\n          <flex-item class=\"margin-bottom-10\">\n            <el-form ref=\"roleForm\" :model=\"roleForm\" label-position=\"right\" label-width=\"90px\" class=\"form-style-line\">\n              <el-row>\n                <col-pr>\n                  <el-form-item label=\"隶属组织 :\" prop=\"orgUuid\">\n                    <el-cascader :options=\"orgTree\" v-model=\"roleForm.orgUuid\" :props=\"orgTreeProps\" clearable></el-cascader>\n                  </el-form-item>\n                </col-pr>\n                <col-pr>\n                  <el-form-item label=\"角色编码 :\" prop=\"roleCode\">\n                    <el-input v-model=\"roleForm.roleCode\" maxlength=\"50\" show-word-limit></el-input>\n                  </el-form-item>\n                </col-pr>\n                <col-pr>\n                  <el-form-item label=\"角色名称 :\" prop=\"roleName\">\n                    <el-input v-model=\"roleForm.roleName\" maxlength=\"50\" show-word-limit></el-input>\n                  </el-form-item>\n                </col-pr>\n              </el-row>\n            </el-form>\n          </flex-item>\n          <flex-item>\n            <data-table ref=\"roleTable\" border index auto-load highlight-current-row auto-update column-button csv-button title=\"Data Table\" :load-data-func='loadRole' :pageOptions='pageOptions'>\n              <data-table-column prop=\"roleName\" label=\"角色名称\" show-overflow-tooltip></data-table-column>\n              <data-table-column prop=\"roleCode\" label=\"角色编码\" show-overflow-tooltip></data-table-column>\n              <data-table-column prop=\"orgUuid\" label=\"隶属组织\" show-overflow-tooltip>\n                <template slot-scope=\"scope\">\n                  <el-cascader class=\"cascader-table-disabled\" :options=\"orgTree\" :value=\"scope.row.orgUuid\" :props=\"orgViewProps\" disabled></el-cascader>\n                </template>\n              </data-table-column>\n              <data-table-column prop=\"roleDesc\" label=\"角色描述\" show-overflow-tooltip></data-table-column>\n              <data-table-column prop=\"op\" label=\"操作\" align='center' width='80'>\n                <template slot-scope=\"scope\">\n                  <el-button type=\"text\" @click=\"handleEditRole(scope.row)\" size=\"mini\" icon=\"el-icon-edit\" title=\"编辑\" />\n                  <el-button type=\"text\" @click=\"handleDelRole(scope.row)\" size=\"mini\" icon=\"el-icon-delete\" title=\"删除\" />\n                </template>\n              </data-table-column>\n            </data-table>\n          </flex-item>\n        </flex-container>\n      </el-card>\n    </flex-item>\n\n    <!-- 角色修改|添加面板 -->\n    <dialog-drag title=\"角色编辑\" :visible.sync=\"showRoleDia\" top='8vh'>\n      <span slot=\"title\">\n        <i class=\"el-icon-edit margin-right-4\"></i>角色编辑\n      </span>\n      <role-mgr-edit :initData='editRole' @updataData='doUpdataRole' @close='showRoleDia=false'></role-mgr-edit>\n    </dialog-drag>\n\n  </flex-container>\n</template>\n\n<script>\nimport SysRoleMgrApi from \"@/api/usrm/sysRoleMgrApi.js\";\nimport SysOrgMgrApi from \"@/api/usrm/sysOrgMgrApi.js\";\nimport SysPermMgrApi from \"@/api/usrm/sysPermMgrApi.js\";\nimport RoleMgrEdit from \"./Role_edit\";\n\n//默认的角色\nlet DefaultRole = {\n  uuid: null,\n  // 隶属组织\n  orgUuid: \"\",\n  // 角色编码\n  roleCode: \"\",\n  // 角色名称\n  roleName: \"\",\n  // 角色描述\n  roleDesc: \"\",\n  // 创建人\n  createdUser: \"\",\n  // 创建时间\n  createdTime: \"\",\n  // 更新人\n  updatedUser: \"\",\n  // 更新时间\n  updatedTime: \"\",\n  //权限资源集合\n  permUuids: null\n};\n\nexport default {\n  components: {\n    RoleMgrEdit\n  },\n  provide() {\n    return {\n      orgTree: this.orgTree,\n      orgTreeProps: this.orgTreeProps,\n      permMap: this.permMap\n    };\n  },\n  data() {\n    return {\n      //权限资源\n      permMap: [],\n      //组织树\n      orgTree: [],\n      //组织下拉配置\n      orgTreeProps: {\n        checkStrictly: true,\n        emitPath: false,\n        value: \"uuid\",\n        label: \"orgName\"\n      },\n      //组织反显配置\n      orgViewProps: {\n        checkStrictly: true,\n        emitPath: false,\n        value: \"uuid\",\n        label: \"orgName\"\n      },\n      //显示角色修改|添加面板\n      showRoleDia: false,\n      //角色查询form\n      roleForm: {\n        // 隶属组织\n        orgUuid: \"\",\n        // 角色编码\n        roleCode: \"\",\n        // 角色名称\n        roleName: \"\"\n      },\n      //分页参数\n      pageOptions: {\n        pagerCount: 5\n      },\n      //组件传值\n      editRole: {}\n    };\n  },\n  mounted() {\n    this.initOrgTree();\n    this.initPermMap();\n  },\n  methods: {\n    //初始化权限资源\n    async initPermMap() {\n      let resp = await SysPermMgrApi.getPermMap();\n      this.$utils.clear(this.permMap);\n      Object.keys(resp.data).forEach(key => {\n        let data;\n        if (key === \"1\")\n          data = this.$utils.toArrayTree(resp.data[key], {\n            key: \"menuUrl\",\n            parentKey: \"menuParent\",\n            children: \"children\",\n            sortKey: \"menuOrde\"\n          });\n        this.permMap.push({\n          key: key,\n          label: \"菜单资源\",\n          data: data\n        });\n      });\n    },\n    //初始化组织下拉\n    async initOrgTree() {\n      try {\n        let resp = await SysOrgMgrApi.getOrgTree();\n        this.$utils.eachTree(resp.data, item => {\n          if (item.children.length === 0) delete item.children;\n        });\n        this.$utils.clear(this.orgTree);\n        resp.data.forEach(element => this.orgTree.push(element));\n      } catch (error) {}\n    },\n    //角色查询接口\n    loadRole(params) {\n      return SysRoleMgrApi.querySysRole(params);\n    },\n    //查询按钮\n    handleQueryRole() {\n      this.$refs[\"roleTable\"].loadData(this.roleForm);\n    },\n    //修改角色\n    handleEditRole(row) {\n      this.editRole = Object.assign({}, row);\n      this.showRoleDia = true;\n    },\n    //添加角色\n    handleAddRole() {\n      this.editRole = Object.assign({}, DefaultRole);\n      this.showRoleDia = true;\n    },\n    //删除角色\n    async handleDelRole(row) {\n      try {\n        await SysRoleMgrApi.delSysRole([row.uuid]);\n      } finally {\n        this.handleQueryRole();\n      }\n    },\n    //角色更新回调\n    async doUpdataRole(data) {\n      try {\n        await SysRoleMgrApi.saveSysRole(data);\n      } finally {\n        this.handleQueryRole();\n      }\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/renderer/views/module/usrm/RoleMgr.vue","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Role_edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Role_edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-056a7131\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Role_edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/renderer/views/module/usrm/Role_edit.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('flex-container',{attrs:{\"wrap\":\"nowrap\",\"justifyContent\":\"space-between\"}},[_c('flex-item',{attrs:{\"grow\":1,\"width\":\"100%\"}},[_c('el-card',[_c('flex-container',{attrs:{\"slot\":\"header\",\"justifyContent\":\"space-between\"},slot:\"header\"},[_c('flex-item',{attrs:{\"alignItems\":\"center\"}},[_c('i',{staticClass:\"el-icon-user margin-right-6 font-size-16\"}),_vm._v(\"角色管理\\n        \")]),_vm._v(\" \"),_c('flex-item',{attrs:{\"alignItems\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-plus\",\"title\":\"添加\"},on:{\"click\":_vm.handleAddRole}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-search\",\"title\":\"查询\"},on:{\"click\":_vm.handleQueryRole}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"circle\":\"\",\"plain\":\"\",\"icon\":\"el-icon-refresh-left\",\"title\":\"重置\"},on:{\"click\":function($event){_vm.$refs['roleForm'].resetFields()}}})],1)],1),_vm._v(\" \"),_c('flex-container',{attrs:{\"direction\":\"column\",\"wrap\":\"nowrap\"}},[_c('flex-item',{staticClass:\"margin-bottom-10\"},[_c('el-form',{ref:\"roleForm\",staticClass:\"form-style-line\",attrs:{\"model\":_vm.roleForm,\"label-position\":\"right\",\"label-width\":\"90px\"}},[_c('el-row',[_c('col-pr',[_c('el-form-item',{attrs:{\"label\":\"隶属组织 :\",\"prop\":\"orgUuid\"}},[_c('el-cascader',{attrs:{\"options\":_vm.orgTree,\"props\":_vm.orgTreeProps,\"clearable\":\"\"},model:{value:(_vm.roleForm.orgUuid),callback:function ($$v) {_vm.$set(_vm.roleForm, \"orgUuid\", $$v)},expression:\"roleForm.orgUuid\"}})],1)],1),_vm._v(\" \"),_c('col-pr',[_c('el-form-item',{attrs:{\"label\":\"角色编码 :\",\"prop\":\"roleCode\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\",\"show-word-limit\":\"\"},model:{value:(_vm.roleForm.roleCode),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleCode\", $$v)},expression:\"roleForm.roleCode\"}})],1)],1),_vm._v(\" \"),_c('col-pr',[_c('el-form-item',{attrs:{\"label\":\"角色名称 :\",\"prop\":\"roleName\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\",\"show-word-limit\":\"\"},model:{value:(_vm.roleForm.roleName),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleName\", $$v)},expression:\"roleForm.roleName\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('flex-item',[_c('data-table',{ref:\"roleTable\",attrs:{\"border\":\"\",\"index\":\"\",\"auto-load\":\"\",\"highlight-current-row\":\"\",\"auto-update\":\"\",\"column-button\":\"\",\"csv-button\":\"\",\"title\":\"Data Table\",\"load-data-func\":_vm.loadRole,\"pageOptions\":_vm.pageOptions}},[_c('data-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('data-table-column',{attrs:{\"prop\":\"roleCode\",\"label\":\"角色编码\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('data-table-column',{attrs:{\"prop\":\"orgUuid\",\"label\":\"隶属组织\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-cascader',{staticClass:\"cascader-table-disabled\",attrs:{\"options\":_vm.orgTree,\"value\":scope.row.orgUuid,\"props\":_vm.orgViewProps,\"disabled\":\"\"}})]}}])}),_vm._v(\" \"),_c('data-table-column',{attrs:{\"prop\":\"roleDesc\",\"label\":\"角色描述\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('data-table-column',{attrs:{\"prop\":\"op\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-edit\",\"title\":\"编辑\"},on:{\"click\":function($event){_vm.handleEditRole(scope.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"title\":\"删除\"},on:{\"click\":function($event){_vm.handleDelRole(scope.row)}}})]}}])})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('dialog-drag',{attrs:{\"title\":\"角色编辑\",\"visible\":_vm.showRoleDia,\"top\":\"8vh\"},on:{\"update:visible\":function($event){_vm.showRoleDia=$event}}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-edit margin-right-4\"}),_vm._v(\"角色编辑\\n    \")]),_vm._v(\" \"),_c('role-mgr-edit',{attrs:{\"initData\":_vm.editRole},on:{\"updataData\":_vm.doUpdataRole,\"close\":function($event){_vm.showRoleDia=false}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-83fb4c64\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/renderer/views/module/usrm/RoleMgr.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleMgr.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleMgr.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-83fb4c64\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoleMgr.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/renderer/views/module/usrm/RoleMgr.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}